<div ng-controller="nuComponents.DataTypes.XPathTemplatableList.EditorController" class="xpath-templatable-list">

    <!--<link rel="stylesheet" type="text/css" ng-if="model.config.CssFile" ng-href="{{ model.config.CssFile }}" /> TODO: move this to controller and use assetsService -->

    <!-- filter -->
    <div class="selectable-filter" ng-show="model.config.enableFiltering == '1'">
        <input type="text"
                placeholder="Type to filter"
                ng-model="model.filterQuery"/>
    </div>

    <!-- selectable -->
    <ul class="selectable"
        ng-model="selectableOptions"
        ng-class="{'fixed-height':model.config.listHeight > 0 }"
        ng-style="{'height': (model.config.listHeight > 0 ? model.config.listHeight + 'px' : '') }">

        <li ng-repeat="option in selectableOptions"
            ng-hide="model.config.hideUsed == '1' && !isSelectable(option)"
            ng-class="{lit:lit, disabled:!isValidSelection(option), used:isUsed(option)}">
            <div class="markup" ng-bind-html-unsafe="option.markup">
            </div>

            <a href=""
               class="button"
               ng-class="{disabled:!isValidSelection(option)}"
               ng-mouseenter="lit = isValidSelection(option)"
               ng-mouseleave="lit = false"
               ng-click="lit = false; selectOption(option)">
            </a>

        </li>
    </ul>

    <!-- selected -->
    <ul class="selected" ui-sortable="sortableConfiguration" ng-model="selectedOptions">
        <li ng-class="{lit:lit}"
            ng-repeat="option in selectedOptions track by $index">

            <a href=""
               class="button"
               ng-mouseenter="lit = true"
               ng-mouseleave="lit = false"
               ng-click="deselectOption($index)">
            </a>

            <div ng-mouseenter="lit = isSortable()"
                 ng-mouseleave="lit = false"
                 ng-class="{markup:true, sort:isSortable()}"
                 ng-bind-html-unsafe="option.markup">
            </div>
        </li>
    </ul>

    <ul class="placeholders">
        <li ng-repeat="placeholder in getRequiredPlaceholderCount() track by $index">
            Required
        </li>

        <li ng-show="showSelectPlaceholder()">
            Select
        </li>

        <li class="indicator" ng-show="model.config.maxItems > 0">
            {{ selectedOptions.length }} out of {{ model.config.maxItems }}
        </li>
    </ul>
    
</div>